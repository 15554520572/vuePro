(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85c28032"],{3517:function(t,i,s){"use strict";s.d(i,"a",function(){return n});var a=s("4b4a"),e=s.n(a);function n(t,i){return new e.a(function(s,a){var e=function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://webapi.amap.com/maps?v=1.4.5&key="+i+"&plugin=AMap.Autocomplete,AMap.PlaceSearch,AMap.Geocoder,AMap.MapType,AMap.Driving,AMap.DistrictSearch",e.onerror=a,document.head.appendChild(e),e.onload=function(){s("baidu"==t?BMap:AMap)}},n=function(){window.HOST_TYPE="2",window.BMap_loadScriptTime=(new Date).getTime(),window.BMap=window.BMap||{},window.BMap.apiLoad=function(){delete window.BMap.apiLoad,"function"==typeof init&&init()};var a=document.createElement("script");a.src="https://api.map.baidu.com/getscript?v=2.0&ak="+i+"&services=&t=20180629105709&s=1",document.body.appendChild(a),a.onload=function(){s("baidu"==t?BMap:AMap)}};"baidu"!=t?e():n()})}},"39e4":function(t,i){t.exports=Object.is||function(t,i){return t===i?0!==t||1/t===1/i:t!=t&&i!=i}},"3b7d":function(t,i,s){},"6bbe":function(t,i,s){"use strict";var a=s("3b7d"),e=s.n(a);e.a},"863e":function(t,i,s){t.exports=s.p+"img/local.e77ae235.png"},a1ed:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOISURBVHhe7ZlNS1RRGMeHiL5ELaJRyjDRKEttHHNCB7PMN8LUScvMDIIIyhKahYUSLdq4KGoRQYugKFwIRSg1LvsA1s6XvkOb8+8+1+eC3jn3eF+8945wfvBbPOc8z/k/gTNkJTQajUaj0Wg0Go1mW/LYs39cvDb8d+A2EIYbb4tXlMWppcPBWyJ3cByIRCOLY0uDdB57y8bE77IxIHkzvOXobcqgLMrk4/g5YixWMQpUjIrlMBejtymDsiiTj+OFlqq8LpaPjQBVI+EvRRmURZkl8VNQPSxyNdeAmuFoFqIMyqJMyubjeKBlaofEcu0QUJuLbhnKMjON7Fh/Ck4bi9TngLqcsUg6ukUoizIpm3bg4+hoHBRtqQGx1jgIlIK0S3pAZHm98MlcEauZfqCUbO4XK7xe+LT2ASSXsRP5Pu2XAZLL2Il8n45esXqpFygpeyL8CPR0imx3t1jp6QZKQdqlq0u08nrR0dcJkFxGTtz5icEOgOQycuLOTwxfBEguI8fK965Yu3phB/7eMNoOkFxGjpXvxxvnd+BLc7wNILlUYvW6lceUeOndjN+5Iu5kAZJLJVavW3lMiZfezfidK+JeC0ByGTlWvn/F2t2WAN8FD84BJJeRY+UH8X4mwHfBZAYguVSS78W+yWbx7FGzWLfm7NKd4TT18pgSa45LzwSdT+TPAiSXSh43GX8w7t9O6uUxJVY/l54JOp94kgZILpVMpcVf6p1KiXo+KuJpk2jYeFOs85ESKz+YAT4CMymA5FKJ214/b/r2jFiZSQX4HeJ5A0ByqcRtbxhv2vE7V8SLOoDkUonb3jDetON3rojZUwDJpRK3vWG8acfvXBEvTwIkl0qceu3nTn0yvPRuxu9cEW9OADL5egtOd/Zzpz7CurPL1yYTP8XSwwKw2YmCKPC1iWzOF2+PAzL5egtOd/Zzpz7CurPL1ybTi4BMvjaRzfnifTVAcqnEqdd+7tQnQ9Y7+934fEvkaxMvGUo+VAEkl0rc9gZ9891XQCZfm3jJUPKpEvAqjzoim9lOHjX5Mg/I5GsT2Zwv5o4CXuVRR2Qz28mjJgtzgEy+NpHN+WK+AiC5VOK2N+ibvz4DMvnaxEuGkm+HAZJLJW57g7755yMgk69NvGQoWSwXq4vlwG50oXwH/lH0R1JkC4fESiEJ7CqNnZeSMfxPkkaj0Wg0Go1Go9kFJBL/AaBTakC9nLfEAAAAAElFTkSuQmCC"},a94c:function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"BMap"},[a("router-link",{staticClass:"link",attrs:{target:"_self",to:"Amap"}},[t._v("百度地图版")]),a("div",{staticClass:"city-panel"}),a("div",{staticClass:"m-filter"},[t._m(0),a("span",{staticClass:"sl-switch"},[a("span",{staticClass:"curcity"},[t._v(t._s(t.curcity))]),a("span",{staticClass:"icon icon-ctrl pos"})])]),t.mapShow?a("div",{staticClass:"pos-icon"},[t._m(1)]):t._e(),t._m(2),a("div",{attrs:{id:"m-result"}},[a("span",{staticClass:"curResult"},[a("img",{attrs:{src:s("863e"),alt:""}}),a("span",{staticClass:"curTit"},[t._v("\n              "+t._s(t.curTit)+"\n            ")]),a("span",{staticClass:"curAddress"},[t._v("\n              "+t._s(t.curAddress)+"\n             ")])]),a("button",{staticClass:"confirm",on:{click:t.submitAdd}},[t._v("确定")])]),a("span",{staticClass:"pos-panel"},[a("div",{staticClass:"pos-tool",on:{click:t.getPos}},[t._m(3)])]),a("div",{staticClass:"cityList",attrs:{id:"cityPanel"}}),t.poiShow?a("div",{staticClass:"poiList",attrs:{id:"poiPanel"}},[a("div",{staticClass:"content"},[a("ul",t._l(t.poiList.data,function(i){return a("li",{on:{click:function(s){t.getPoi(i)}}},[a("img",{attrs:{src:s("a1ed"),alt:""}}),a("span",{staticClass:"poi-name"},[t._v(t._s(i.name))]),a("span",{staticClass:"poi-address"},[t._v(t._s(i.address))])])}),0),0==t.poiList.data.length?a("div",{staticClass:"empty"},[a("img",{attrs:{src:"img/empty.jpg",alt:""}})]):t._e()])]):t._e()],1)},e=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"mui-input-row mui-search mui-active"},[s("input",{staticClass:"address-detail mui-input-clear",attrs:{type:"search",id:"address-detail",name:"address-detail",placeholder:"选择收货地址 街道/小区"}})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"obj"},[s("img",{attrs:{src:"img/cur.png"}})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"mapPanel"}},[s("div",{staticStyle:{"text-align":"center","padding-top":"200px",color:"#fff"}},[t._v("地图加载中...")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"overlay-loader"},[s("div",{staticClass:"loader"},[s("div"),s("div"),s("div"),s("div"),s("div"),s("div"),s("div")])])}],n=(s("b726"),s("c839"),s("0be8"),s("3517")),o={name:"HelloWorld",data:function(){return{poiList:{data:[]},map:null,geoLocation:null,ac:null,cur_city:"",mapShow:!1,r_address:"",cityName:"",r_city:"",r_name:"",r_lng:"",r_lat:"",poiShow:!1,curTit:"",curAddress:"",curcity:"定位中",local:null}},created:function(){this.loadScript()},methods:{submitAdd:function(){console.log(this.curTit+this.curAddress),console.log(this.r_lng+","+this.r_lat)},loadScript:function(){var t=this;Object(n["a"])("baidu","FxIKiG86RvDX9KDNiDQhKxpatnUG8E8j").then(function(){t.initMap()})},openPoi:function(){this.poiShow=!0},hidePoi:function(){this.poiShow=!1},initMap:function(){var t=this;this.map=new window.BMap.Map("mapPanel"),this.map.centerAndZoom(new BMap.Point(121.480539,31.235929),18),this.map.addEventListener("dragend",function(){t.showPoi()}),this.geoLocation=new window.BMap.Geolocation,this.getPos(),this.mapShow=!0},getPos:function(){var t=this,i=this.geoLocation;i.getCurrentPosition(function(s){if(i.getStatus()==BMAP_STATUS_SUCCESS){t.cur_city=s.address.city,t.resetAutocomplete(t.cur_city);var a=s.point.lat,e=s.point.lng;t.curcity=t.cur_city.split("市")[0],t.map.centerAndZoom(new BMap.Point(e,a),16),t.showPoi()}})},showPoi:function(){var t=this,i=this.map.getCenter(),s=new BMap.Point(i.lng,i.lat),a=new BMap.Geocoder,e={poiRadius:2e3,numPois:1};a.getLocation(s,function(i){var s=i.surroundingPois,a=[];if(s.length>0){for(var e=0;e<s.length;++e)a.push({title:s[e].title,address:s[e].address,city:s[e].city,lng:s[e].point.lng,lat:s[e].point.lat});t.showList(a)}},e)},showList:function(t){for(var i in t)t[i].address+t[i].title;this.r_lat=t[0].lat,this.r_lng=t[0].lng,this.curAddress=t[0].address,this.curTit=t[0].title},resetAutocomplete:function(t){this.ac&&this.ac.dispose(),this.ac=new BMap.Autocomplete({input:"address-detail",location:t,onSearchComplete:this.SearchingCmplt})},getPoi:function(t){this.hidePoi(),this.local=new BMap.LocalSearch(this.map,{onSearchComplete:this.searchDone});var i=t;this.r_address=i.address+i.name,this.local.search(this.r_address)},searchDone:function(){var t=this.local.getResults().getPoi(0).point;this.map.centerAndZoom(t,18),this.curAddress=this.local.getResults().getPoi(0).address,this.curTit=this.local.getResults().getPoi(0).title,""!==this.cityName&&(this.curcity=this.cityName.split("市")[0],this.resetAutocomplete(this.cityName))},SearchingCmplt:function(t){for(var i=[],s=0;s<t.getNumPois();s++)t.getPoi(s)&&i.push({name:t.getPoi(s).business,address:t.getPoi(s).city+t.getPoi(s).district,city:t.getPoi(s).city.split("省").length>1?t.getPoi(s).business:t.getPoi(s).city,district:t.getPoi(s).district});this.poiList={data:[]},this.poiList.data=i,this.openPoi()}}},c=o,r=(s("6bbe"),s("25c1")),l=Object(r["a"])(c,a,e,!1,null,null,null);l.options.__file="baiduMap.vue";i["default"]=l.exports},b726:function(t,i,s){"use strict";var a=s("2724"),e=s("39e4"),n=s("e76c");s("224e")("search",1,function(t,i,s,o){return[function(s){var a=t(this),e=void 0==s?void 0:s[i];return void 0!==e?e.call(s,a):new RegExp(s)[i](String(a))},function(t){var i=o(s,t,this);if(i.done)return i.value;var c=a(t),r=String(this),l=c.lastIndex;e(l,0)||(c.lastIndex=0);var d=n(c,r);return e(c.lastIndex,l)||(c.lastIndex=l),null===d?-1:d.index}]})}}]);
//# sourceMappingURL=chunk-85c28032.4168d3a9.js.map